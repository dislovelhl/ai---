# ===================================
# AI Navigator - Backend Environment Variables
# ===================================
# Copy this file to .env and update values for your environment

# -----------------------------------
# Database Configuration
# -----------------------------------
DATABASE_URL=postgresql+asyncpg://ainav:ainavpassword@localhost:5433/ainav_db

# -----------------------------------
# Redis Configuration
# -----------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------
# Meilisearch Configuration
# -----------------------------------
MEILISEARCH_URL=http://localhost:7700
MEILISEARCH_KEY=masterKey

# -----------------------------------
# DeepSeek API (for LLM enrichment and agent execution)
# -----------------------------------
# Get your API key from: https://platform.deepseek.com/
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_API_URL=https://api.deepseek.com/v1/chat/completions

# -----------------------------------
# Product Hunt API (optional - for content automation)
# -----------------------------------
PRODUCTHUNT_TOKEN=your_producthunt_token_here

# -----------------------------------
# GitHub API (optional - for content automation)
# -----------------------------------
GITHUB_TOKEN=your_github_token_here

# -----------------------------------
# OAuth2 Configuration (optional - for social login)
# -----------------------------------

# GitHub OAuth
# Create OAuth App at: https://github.com/settings/developers
# Set callback URL to: http://localhost:8003/v1/oauth/github/callback
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret
GITHUB_REDIRECT_URI=http://localhost:8003/v1/oauth/github/callback

# WeChat OAuth (for Chinese users)
# Register at: https://open.weixin.qq.com/
WECHAT_APP_ID=your_wechat_app_id
WECHAT_APP_SECRET=your_wechat_app_secret
WECHAT_REDIRECT_URI=http://localhost:8003/v1/oauth/wechat/callback

# -----------------------------------
# Frontend Configuration
# -----------------------------------
# URL where the frontend is hosted (for OAuth redirects after authentication)
FRONTEND_URL=http://localhost:3000

# -----------------------------------
# Application Settings
# -----------------------------------
DEBUG=True
ENVIRONMENT=development

# -----------------------------------
# CORS Configuration
# -----------------------------------
# IMPORTANT: Comma-separated list of allowed origins for Cross-Origin Resource Sharing
# Development: Include all localhost variations your frontend might use
# Production: Include your production domain(s) only
#
# Development example:
# CORS_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000","http://localhost:3001"]
#
# Production example:
# CORS_ORIGINS=["https://ainav.example.com","https://www.ainav.example.com"]
#
# Notes:
# - Must be a valid JSON array of strings
# - Include protocol (http:// or https://)
# - No trailing slashes
# - allow_credentials is set to True for JWT authentication
# - Authorization header is automatically included in allowed headers
CORS_ORIGINS=["http://localhost:3000"]

# -----------------------------------
# Pagination Settings
# -----------------------------------
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# -----------------------------------
# Authentication & Security
# -----------------------------------
# CRITICAL: Generate a strong SECRET_KEY for production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Must be at least 32 characters in production
SECRET_KEY=dev-only-secret-key-replace-in-production-with-32-chars-minimum

# JWT algorithm (do not change unless you know what you're doing)
ALGORITHM=HS256

# Token expiration times
ACCESS_TOKEN_EXPIRE_MINUTES=60    # 1 hour for access tokens
REFRESH_TOKEN_EXPIRE_DAYS=7       # 7 days for refresh tokens

# -----------------------------------
# Email Configuration (optional - for password reset)
# -----------------------------------

# QQ Mail (recommended for Chinese users)
SMTP_HOST=smtp.qq.com
SMTP_PORT=465
SMTP_USER=your_qq_email@qq.com
SMTP_PASSWORD=your_qq_authorization_code  # Get from QQ Mail settings
SMTP_FROM_EMAIL=your_qq_email@qq.com
SMTP_FROM_NAME=AI导航
SMTP_USE_SSL=true
SMTP_USE_TLS=false

# Gmail alternative:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_gmail@gmail.com
# SMTP_PASSWORD=your_app_password  # Use App Password, not regular password
# SMTP_FROM_EMAIL=your_gmail@gmail.com
# SMTP_FROM_NAME=AI Navigation
# SMTP_USE_SSL=false
# SMTP_USE_TLS=true

# ===================================
# Production Deployment Checklist
# ===================================
# Before deploying to production:
# [ ] Set ENVIRONMENT=production
# [ ] Generate and set a strong SECRET_KEY (minimum 32 characters)
# [ ] Update CORS_ORIGINS to include only your production domain(s)
# [ ] Set FRONTEND_URL to your production frontend URL
# [ ] Update OAuth redirect URIs to production URLs
# [ ] Configure SMTP settings for email functionality
# [ ] Ensure DATABASE_URL points to production database
# [ ] Use HTTPS for all external URLs
# [ ] Set DEBUG=False
